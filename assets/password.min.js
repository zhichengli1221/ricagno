window.theme=window.theme||{},theme.a11y={trapFocus:function(n){function t(n){9===n.keyCode&&(n.target!==s||n.shiftKey||(n.preventDefault(),i.focus()),n.target===i&&n.shiftKey&&(n.preventDefault(),s.focus()))}var e={focusin:n.namespace?"focusin."+n.namespace:"focusin",focusout:n.namespace?"focusout."+n.namespace:"focusout",keydown:n.namespace?"keydown."+n.namespace:"keydown.handleFocus"},o=n.$container.find($('button, [href], input, select, textarea, [tabindex]:not([tabindex^="-"])').filter(":visible")),i=o[0],s=o[o.length-1];n.$elementToFocus||(n.$elementToFocus=n.$container),n.$container.attr("tabindex","-1"),n.$elementToFocus.focus(),$(document).off("focusin"),$(document).on(e.focusout,function(){$(document).off(e.keydown)}),$(document).on(e.focusin,function(n){n.target!==s&&n.target!==i||$(document).on(e.keydown,function(n){t(n)})})},removeTrapFocus:function(n){var t=n.namespace?"focusin."+n.namespace:"focusin";n.$container&&n.$container.length&&n.$container.removeAttr("tabindex"),$(document).off(t)},lockMobileScrolling:function(n,t){if(t)var e=t;else var e=$(document.documentElement).add("body");e.on("touchmove"+n,function(){return!1})},unlockMobileScrolling:function(n,t){if(t)var e=t;else var e=$(document.documentElement).add("body");e.off(n)}},theme.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},theme.Sections.prototype=$.extend({},theme.Sections.prototype,{createInstance:function(n,t,e){var o=$(n),i=o.attr("data-section-id"),s=o.attr("data-section-type");if(t=t||this.constructors[s],"undefined"!=typeof t){if(e){var a=this._findInstance(i);if(a)return}var c=$.extend(new t(n),{id:i,type:s,container:n});this.instances.push(c)}},_onSectionLoad:function(n,t,e){AOS&&AOS.refreshHard();var o=t?t:$("[data-section-id]",n.target)[0];if(o){this.createInstance(o);var i=t?e:this._findInstance(n.detail.sectionId);t||this._loadSubSections(),i&&"function"==typeof i.onLoad&&i.onLoad(n)}},_loadSubSections:function(){AOS&&AOS.refreshHard(),$("[data-subsection]").each(function(n,t){this._onSectionLoad(null,t,$(t).data("section-id"))}.bind(this))},_onSectionUnload:function(n){var t=this._removeInstance(n.detail.sectionId);t&&"function"==typeof t.onUnload&&t.onUnload(n)},_onSelect:function(n){var t=this._findInstance(n.detail.sectionId);t&&"function"==typeof t.onSelect&&t.onSelect(n)},_onDeselect:function(n){var t=this._findInstance(n.detail.sectionId);t&&"function"==typeof t.onDeselect&&t.onDeselect(n)},_onBlockSelect:function(n){var t=this._findInstance(n.detail.sectionId);t&&"function"==typeof t.onBlockSelect&&t.onBlockSelect(n)},_onBlockDeselect:function(n){var t=this._findInstance(n.detail.sectionId);t&&"function"==typeof t.onBlockDeselect&&t.onBlockDeselect(n)},_findInstance:function(n){for(var t=0;t<this.instances.length;t++)if(this.instances[t].id===n)return this.instances[t]},_removeInstance:function(n){for(var t,e=this.instances.length;e--;)if(this.instances[e].id===n){t=this.instances[e],this.instances.splice(e,1);break}return t},register:function(n,t,e){this.constructors[n]=t;var o=$("[data-section-type="+n+"]");e&&(o=$("[data-section-type="+n+"]",e)),o.each(function(n,o){this.createInstance(o,t,e)}.bind(this))}}),theme.Modals=function(){function n(n,t,e){var o={close:".js-modal-close",open:".js-modal-open-"+t,openClass:"modal--is-active",closingClass:"modal--is-closing",bodyOpenClass:"modal-open",bodyOpenSolidClass:"modal-open--solid",bodyClosingClass:"modal-closing",closeOffContentClick:!0};return this.id=n,this.$modal=$("#"+n),!!this.$modal.length&&(this.nodes={$parent:$("html").add("body"),$modalContent:this.$modal.find(".modal__inner")},this.config=$.extend(o,e),this.modalIsOpen=!1,this.$focusOnOpen=this.config.focusOnOpen?$(this.config.focusOnOpen):this.$modal,this.isSolid=this.config.solid,void this.init())}return n.prototype.init=function(){var n=$(this.config.open);n.attr("aria-expanded","false"),$(this.config.open).on("click",this.open.bind(this)),this.$modal.find(this.config.close).on("click",this.close.bind(this)),$("body").on("drawerOpen",function(){this.close()}.bind(this))},n.prototype.open=function(n){var t=!1;this.modalIsOpen||(n?n.preventDefault():t=!0,n&&n.stopPropagation&&(n.stopPropagation(),this.$activeSource=$(n.currentTarget).attr("aria-expanded","true")),this.modalIsOpen&&!t&&this.close(),this.$modal.prepareTransition().addClass(this.config.openClass),this.nodes.$parent.addClass(this.config.bodyOpenClass),this.isSolid&&this.nodes.$parent.addClass(this.config.bodyOpenSolidClass),this.modalIsOpen=!0,theme.a11y.trapFocus({$container:this.$modal,$elementToFocus:this.$focusOnOpen,namespace:"modal_focus"}),$("body").trigger("productModalOpen").trigger("modalOpen."+this.id),this.bindEvents())},n.prototype.close=function(){this.modalIsOpen&&($(document.activeElement).trigger("blur"),this.$modal.prepareTransition().removeClass(this.config.openClass).addClass(this.config.closingClass),this.nodes.$parent.removeClass(this.config.bodyOpenClass),this.nodes.$parent.addClass(this.config.bodyClosingClass),window.setTimeout(function(){this.nodes.$parent.removeClass(this.config.bodyClosingClass),this.$modal.removeClass(this.config.closingClass),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","false").focus()}.bind(this),500),this.isSolid&&this.nodes.$parent.removeClass(this.config.bodyOpenSolidClass),this.modalIsOpen=!1,theme.a11y.removeTrapFocus({$container:this.$modal,namespace:"modal_focus"}),$("body").trigger("modalClose."+this.id),this.unbindEvents())},n.prototype.bindEvents=function(){this.nodes.$parent.on("keyup.modal",function(n){27===n.keyCode&&this.close()}.bind(this)),this.config.closeOffContentClick&&(this.$modal.on("click.modal",this.close.bind(this)),this.nodes.$modalContent.on("click.modal",function(n){n.stopImmediatePropagation()}))},n.prototype.unbindEvents=function(){this.nodes.$parent.off(".modal"),this.config.closeOffContentClick&&(this.$modal.off(".modal"),this.nodes.$modalContent.off(".modal"))},n}(),theme.PasswordHeader=function(){function n(){this.init()}return n.prototype=$.extend({},n.prototype,{init:function(){var n=$("#LoginModal");if(n.length){var t=new theme.Modals("LoginModal","login-modal",{focusOnOpen:"#password",solid:!0});n.find(".errors").length&&t.open()}}}),n}(),$(document).ready(function(){var n=new theme.Sections;n.register("password-header",theme.PasswordHeader)});